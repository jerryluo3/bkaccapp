(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-setting-address"],{"11fb":function(t,e,a){"use strict";(function(t){var i=a("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(a("4976")),d={data:function(){return{userid:"",userInfo:[],addressList:[],tfrom:"",info:{},titleHeight:0,statusBarHeight:0,naviBarHeight:0}},onLoad:function(t){var e=this,a=uni.getStorageSync("userid"),i=uni.getStorageSync("userInfo"),d=t.from;""==d&&"undefined"==d||(e.tfrom=d),e.userid=a,e.userInfo=i,""==i&&uni.redirectTo({url:"/pages/userlogin/userlogin"});var n=getCurrentPages();e.info.delta=n.length,e.titleHeight=s.default.titleHeight,e.statusBarHeight=s.default.statusBarHeight,e.naviBarHeight=s.default.naviBarHeight,e.getAddressList()},onPullDownRefresh:function(){var e=this;uni.showNavigationBarLoading(),t.log("下拉刷新中...");var a=uni.getStorageSync("userid"),i=uni.getStorageSync("userInfo");e.userid=a,e.userInfo=i,e.getAddressList(),uni.hideNavigationBarLoading(),uni.stopPullDownRefresh()},methods:{chooseaddress:function(e){var a=e.currentTarget.dataset.id,i=uni.getStorageSync("shopid");t.log("id",a),uni.request({url:s.default.apiUrl+"user/getAddress",method:"GET",data:{id:a,shopid:i},success:function(e){var a=e.data;if(t.log("data",a),0==a.code&&""!=a.address){if(1==a.isused)return uni.showToast({title:"此地址不在配送范围内",duration:1e3,icon:"none"}),!1;var i=a.address;s.default.address=i,s.default.isused=a.isused,uni.navigateBack()}},fail:function(){},complete:function(){}})},editaddress:function(t){var e=t.currentTarget.dataset.id;uni.navigateTo({url:"/pages/user/setting/editaddress?id="+e,success:function(t){},fail:function(){},complete:function(){}})},setdefault:function(t){var e=this,a=t.currentTarget.dataset.id,i=t.currentTarget.dataset.isdefault;if(1==i)return!1;var d=uni.getStorageSync("userInfo");uni.showModal({title:"提示",content:"确定要设为默认地址吗？",success:function(t){uni.request({url:s.default.apiUrl+"user/setdefault",method:"GET",data:{id:a,userid:d.users_id},success:function(t){0==t.data.code&&(uni.showToast({title:"操作成功",duration:1500,icon:"success"}),e.getAddressList())}})},fail:function(){},complete:function(){}})},deladdress:function(t){var e=this,a=t.currentTarget.dataset.id;uni.showModal({title:"提示",content:"确定要删除地址吗？",success:function(t){t.confirm&&uni.request({url:s.default.apiUrl+"user/deladdress",method:"GET",data:{id:a},success:function(t){0==t.data.code&&(uni.showToast({title:"操作成功",duration:1500,icon:"success"}),e.getAddressList())}})},fail:function(){},complete:function(){}})},addaddress:function(){uni.navigateTo({url:"/pages/user/setting/editaddress",success:function(t){},fail:function(){},complete:function(){}})},getAddressList:function(){var e=this,a=uni.getStorageSync("userid");uni.request({url:s.default.apiUrl+"location/getAddressList",method:"GET",data:{userid:a},success:function(a){t.log("addressList",e.addressList),0==a.data.code&&(e.addressList=a.data.address_list)},fail:function(){},complete:function(){}})}}};e.default=d}).call(this,a("5a52")["default"])},1940:function(t,e,a){"use strict";a.r(e);var i=a("2c00"),s=a("d4ab");for(var d in s)"default"!==d&&function(t){a.d(e,t,(function(){return s[t]}))}(d);a("4ff0");var n,r=a("f0c5"),o=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"1f51a5e7",null,!1,i["a"],n);e["default"]=o.exports},"2c00":function(t,e,a){"use strict";var i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"main"},[a("v-uni-view",{staticClass:"address_list"},t._l(t.addressList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"address_item"},[a("v-uni-view",{staticClass:"weui-flex address_mess"},[a("v-uni-view",{staticClass:"weui-flex__item"},[a("v-uni-view",{staticClass:"address_detail"},[t._v(t._s(e.ua_address))]),a("v-uni-view",{staticClass:"address_info"},[t._v(t._s(e.ua_name)+"("+t._s(e.ua_sex)+")  "+t._s(e.ua_mobile))])],1),"cart"==t.tfrom?a("v-uni-view",{staticClass:"choose_btn",attrs:{"data-id":e.ua_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseaddress.apply(void 0,arguments)}}},[t._v("选择")]):t._e()],1),a("v-uni-view",{staticClass:"weui-flex btn_row"},[a("v-uni-view",{staticClass:"weui-flex__item",attrs:{"data-id":e.ua_id,"data-isdefault":e.ua_isdefault},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setdefault.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"default_btn",class:1==e.ua_isdefault?"isdefault":""},[t._v("设为默认")])],1),a("v-uni-view",{staticClass:"btns"},[a("v-uni-view",{staticClass:"option_btn edit",attrs:{"data-id":e.ua_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.editaddress.apply(void 0,arguments)}}},[t._v("编辑")]),a("v-uni-view",{staticClass:"option_btn del",attrs:{"data-id":e.ua_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deladdress.apply(void 0,arguments)}}},[t._v("删除")])],1)],1)],1)})),1),a("v-uni-view",{staticClass:"addaddress",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addaddress.apply(void 0,arguments)}}},[t._v("新增地址")])],1)],1)},d=[];a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return d})),a.d(e,"a",(function(){return i}))},"4c97":function(t,e,a){var i=a("7fad");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("4f06").default;s("77b4d9c3",i,!0,{sourceMap:!1,shadowMode:!1})},"4ff0":function(t,e,a){"use strict";var i=a("4c97"),s=a.n(i);s.a},"7fad":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".address_list[data-v-1f51a5e7]{width:100%;margin-bottom:%?100?%}.address_item[data-v-1f51a5e7]{background:#fff;border-bottom:%?1?% solid #eee;padding:%?20?%;line-height:%?40?%;margin-bottom:%?20?%}.address_item .address_detail[data-v-1f51a5e7]{font-weight:700;color:#333;font-size:%?32?%}.address_item .address_info[data-v-1f51a5e7]{color:#666;font-size:%?28?%}.address_op[data-v-1f51a5e7]{width:%?100?%;text-align:center}.address_op uni-image[data-v-1f51a5e7]{width:%?60?%;height:%?60?%;margin:%?20?%}.btn_row[data-v-1f51a5e7]{border-top:%?1?% solid #eee;padding:%?10?% 0 0}.option_btn[data-v-1f51a5e7]{display:inline-block;margin-left:%?20?%;line-height:%?50?%;border:%?1?% solid #ddd;padding:0 %?20?%;font-size:%?28?%;border-radius:%?50?%}.default_btn[data-v-1f51a5e7]{line-height:%?50?%;border:%?1?% solid #ddd;padding:0 %?20?%;font-size:%?28?%;display:inline-block;border-radius:%?50?%}.isdefault[data-v-1f51a5e7]{background:#ff643d;color:#fff;border:%?1?% solid #ff643d}.address_mess[data-v-1f51a5e7]{padding-bottom:%?20?%}.choose_btn[data-v-1f51a5e7]{line-height:%?50?%;border:%?1?% solid #ddd;padding:0 %?20?%;font-size:%?28?%;display:inline-block;border-radius:%?6?%;height:%?50?%;background:#fafafa;margin-top:%?20?%}.addaddress[data-v-1f51a5e7]{background:#00aafa;color:#fff;position:fixed;bottom:0;width:100%;height:%?100?%;line-height:%?100?%;text-align:center;font-size:%?32?%}",""]),t.exports=e},d4ab:function(t,e,a){"use strict";a.r(e);var i=a("11fb"),s=a.n(i);for(var d in i)"default"!==d&&function(t){a.d(e,t,(function(){return i[t]}))}(d);e["default"]=s.a}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-merchant-shop"],{"05a7":function(t,e,i){"use strict";i.r(e);var a=i("7f3d"),o=i("0a36");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("2821");var s,r=i("f0c5"),u=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"67a035e0",null,!1,a["a"],s);e["default"]=u.exports},"0a36":function(t,e,i){"use strict";i.r(e);var a=i("f33b"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},1148:function(t,e,i){"use strict";var a=i("a691"),o=i("1d80");t.exports="".repeat||function(t){var e=String(o(this)),i="",n=a(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i}},"12c0":function(t,e,i){i("a4d3"),i("4de4"),i("4160"),i("e439"),i("dbb4"),i("b64b"),i("159b");var a=i("5757");function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}t.exports=n},2821:function(t,e,i){"use strict";var a=i("a07e"),o=i.n(a);o.a},"408a":function(t,e,i){var a=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},"6a87":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".page_blank[data-v-67a035e0]{width:100%;height:%?120?%}.shop_bar[data-v-67a035e0]{width:100%;height:%?200?%;background:#00aafa}.shop_bar uni-image[data-v-67a035e0]{width:100%;height:%?200?%;display:block}.shop_header[data-v-67a035e0]{padding:%?10?% 3%;background:rgba(0,0,0,.3);height:%?60?%;overflow:hidden;position:absolute;z-index:10000;top:%?120?%;left:0;width:94%}.shop_logo[data-v-67a035e0]{width:%?60?%;height:%?60?%;border-radius:%?10?%;border:%?1?% solid #ddd;margin-right:%?20?%}.shop_logo uni-image[data-v-67a035e0]{width:%?60?%;height:%?60?%;border-radius:%?10?%}.shop_info[data-v-67a035e0]{padding-bottom:%?20?%;color:#fff}.shop_title[data-v-67a035e0]{font-size:%?32?%;font-weight:700}.menu[data-v-67a035e0]{width:100%;height:%?100?%;background:#00aafa;position:fixed;bottom:0}.menu_item[data-v-67a035e0]{text-align:center;font-size:%?28?%;font-weight:700;line-height:%?100?%;color:#fff}.menu_item_in[data-v-67a035e0]{background:#0a98d5}.shop_main[data-v-67a035e0]{position:fixed;top:%?300?%;width:100%;bottom:%?100?%;background:#fff}.shop_left[data-v-67a035e0]{width:%?200?%;text-align:center;position:relative}\r\n/******头部广告列表*******/.swiper[data-v-67a035e0]{width:100%;height:%?220?%}.swiper .turnpic uni-image[data-v-67a035e0]{width:100%;height:%?220?%;display:block}.search[data-v-67a035e0]{padding:%?20?%;background:#fff}.search_txt[data-v-67a035e0]{background:#eee;border-radius:%?80?%;height:%?80?%;line-height:%?80?%;text-align:center;font-size:%?28?%}\r\n/******类别列表********/.shop_category[data-v-67a035e0]{background:#fafafa;position:absolute;width:100%;top:0;bottom:0;overflow:scroll}.shop_cat[data-v-67a035e0]{width:100%;height:%?100?%;line-height:%?100?%;font-size:%?32?%;border-bottom:%?1?% solid #eee}.shop_cat_in[data-v-67a035e0]{background:#fff;font-weight:700;color:#00aafa}\r\n/******类别*******/.cat_nav_list[data-v-67a035e0]{padding:%?30?% 0;background:#fff}.cat_nav_item[data-v-67a035e0]{width:25%;display:inline-block;text-align:center;font-size:%?28?%}.cat_nav_ico[data-v-67a035e0]{width:%?100?%;height:%?100?%;background:#fafafa;border-radius:50%;margin:0 auto}.cat_nav_ico uni-image[data-v-67a035e0]{width:%?100?%;height:%?100?%;border-radius:50%}.cat_nav_name[data-v-67a035e0]{height:%?60?%;line-height:%?60?%}\r\n/******商品列表********/.goods_list[data-v-67a035e0]{width:100%}.goods_item[data-v-67a035e0]{width:%?360?%;padding:%?7.5?%;display:inline-block;vertical-align:top;background:#fff;border-bottom:%?1?% solid #eee;border-right:%?1?% solid #eee}.goods_picture[data-v-67a035e0]{width:%?360?%;height:%?360?%;position:relative}.goods_picture uni-image[data-v-67a035e0]{width:%?360?%;height:%?360?%}.goods_title[data-v-67a035e0]{font-size:%?28?%;line-height:%?40?%;height:%?80?%;overflow:hidden;padding:%?10?%;padding-bottom:0}.goods_price[data-v-67a035e0]{font-size:%?28?%;color:#f40;padding:%?20?% %?10?%;font-weight:700}.goods_dprice[data-v-67a035e0]{font-size:%?28?%;color:#f40;padding:%?20?% %?10?%}.goods_tags[data-v-67a035e0]{padding:%?10?% 0;position:absolute;bottom:0;z-index:10;width:100%}.goods_tags_item[data-v-67a035e0]{background:#ff6408;color:#fff;margin-left:%?10?%;padding:0 %?5?%;display:inline-block;font-size:%?20?%;border-radius:%?4?%}.goods_shenqingprice[data-v-67a035e0]{background:#f40;color:#fff;border-radius:%?6?%;height:%?50?%;line-height:%?50?%;padding:0 %?10?%;display:inline-block}.block[data-v-67a035e0]{width:100%;margin-top:%?20?%}.block_title[data-v-67a035e0]{padding:0 %?20?%;height:%?80?%;background:#0ab7cc;color:#fff}.block_title_name[data-v-67a035e0]{font-size:%?32?%;font-weight:700;line-height:%?80?%}.block_title_more[data-v-67a035e0]{font-size:%?28?%;color:#666;line-height:%?80?%;color:#fff}.block_content[data-v-67a035e0]{padding:%?15?%;background:#fff}\r\n/******推荐商家*****/.commend_shop[data-v-67a035e0]{background:#fff;padding:%?10?%}.commend_shop_item[data-v-67a035e0]{padding:%?5?%;width:%?170?%;display:inline-block;vertical-align:top;text-align:center}.commend_shop_logo[data-v-67a035e0],.commend_shop_logo uni-image[data-v-67a035e0]{width:%?150?%;height:%?150?%;border-radius:50%}.commend_shop_logo[data-v-67a035e0]{margin:0 auto}.commend_shop_title[data-v-67a035e0]{height:%?80?%;line-height:%?40?%}.sharebg[data-v-67a035e0]{background-color:rgba(0,0,0,.3);width:100%;position:fixed;z-index:10;top:0;bottom:0;left:0;right:0}.shareHB[data-v-67a035e0]{width:80%;margin:4% 10%;position:fixed;z-index:10000;top:0}.shareHB_c[data-v-67a035e0]{background:#fff}.shareBtn[data-v-67a035e0]{position:absolute;left:35%;bottom:%?-80?%;width:30%;text-align:center;height:%?60?%;line-height:%?60?%;color:#000;font-size:%?32?%;background:#fff}.shop_haibao[data-v-67a035e0]{background:#fff}\r\n/******form_block******/.form_block[data-v-67a035e0]{width:90%;background:#fff;padding:5%;position:fixed;bottom:0;z-index:111111}.form_item[data-v-67a035e0]{border-bottom:%?1?% solid #eee;height:%?80?%;line-height:%?80?%;padding:%?10?%}.form_input[data-v-67a035e0]{height:%?80?%;line-height:%?80?%;padding:0 3%;font-size:%?36?%}.form_btn[data-v-67a035e0]{background:#ff8400;color:#fff;margin:3%;height:%?100?%;line-height:%?100?%;border-radius:%?6?%;text-align:center;font-size:%?32?%;font-weight:700}.pop_bg[data-v-67a035e0]{background-color:rgba(0,0,0,.3);width:100%;position:fixed;z-index:10;top:0;bottom:0;left:0;right:0}.hideitem[data-v-67a035e0]{display:none}",""]),t.exports=e},"7ad7":function(t,e,i){t.exports=i.p+"static/img/cats.a2fc9427.png"},"7f3d":function(t,e,i){"use strict";var a,o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page"},[a("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":!0,autoplay:!0,interval:3e3,duration:1e3}},t._l(t.bannerList,(function(e,i){return a("v-uni-swiper-item",{key:i,staticClass:"turnpic"},[a("v-uni-image",{attrs:{src:t.baseUrl+e.sa_picture}})],1)})),1),a("v-uni-view",{staticClass:"search"},[a("v-uni-view",{staticClass:"search_txt",attrs:{"data-url":"/pages/merchant/search?id="+t.shopid},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpUrl.apply(void 0,arguments)}}},[t._v("搜索商品名称")])],1),a("v-uni-view",{staticClass:"cat_nav_list"},t._l(t.catList,(function(e,o){return a("v-uni-view",{key:o,staticClass:"cat_nav_item",attrs:{"data-url":"/pages/merchant/products?id="+t.shopid+"&fid="+e.cat_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpUrl.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cat_nav_ico"},[e.cat_img?a("v-uni-image",{attrs:{src:t.baseUrl+e.cat_img,mode:""}}):a("v-uni-image",{attrs:{src:i("7ad7"),mode:""}})],1),a("v-uni-view",{staticClass:"cat_nav_name"},[t._v(t._s(e.cat_name))])],1)})),1),1==t.shop.shop_products?a("v-uni-view",{staticClass:"block"},[a("v-uni-view",{staticClass:"block_title weui-flex"},[a("v-uni-view",{staticClass:"block_title_name weui-flex__item"},[t._v("推荐商品")]),a("v-uni-view",{staticClass:"block_title_more",attrs:{"data-url":"/pages/merchant/products?id="+t.shopid},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpUrl.apply(void 0,arguments)}}},[t._v("更多>")])],1),a("v-uni-view",{staticClass:"goods_list"},t._l(t.goodsList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"goods_item"},[a("v-uni-view",{staticClass:"goods_picture",attrs:{"data-url":"/pages/merchant/goods?shopid="+t.shopid+"&id="+e.goods_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpUrl.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:t.baseUrl+e.goods_picture,mode:""}}),a("v-uni-view",{staticClass:"goods_tags"},t._l(e.goodsTags,(function(e,i){return a("v-uni-view",{key:i,staticClass:"goods_tags_item"},[t._v(t._s(e))])})),1)],1),a("v-uni-view",{staticClass:"goods_title",attrs:{"data-url":"/pages/merchant/goods?shopid="+t.shopid+"&id="+e.goods_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpUrl.apply(void 0,arguments)}}},[t._v(t._s(e.goods_title))]),1==t.shop.shop_type&&1==t.shop.shop_allowview?a("v-uni-view",{staticClass:"goods_price"},[t._v("¥ "+t._s(e.goods_price))]):1==t.shop.shop_type&&0==t.shop.shop_allowview?a("v-uni-view",{staticClass:"goods_shenqingprice",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shenqingView.apply(void 0,arguments)}}},[t._v("申请查看价格")]):0==t.shop.shop_type&&e.goods_price>0?a("v-uni-view",{staticClass:"goods_price"},[t._v("¥ "+t._s(e.goods_price))]):a("v-uni-view",{staticClass:"goods_dprice",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.contactShop.apply(void 0,arguments)}}},[t._v("来电咨询")])],1)})),1)],1):t._e(),a("v-uni-view",{staticClass:"block"},[a("v-uni-view",{staticClass:"block_title weui-flex"},[a("v-uni-view",{staticClass:"block_title_name weui-flex__item"},[t._v("关于我们")])],1),a("v-uni-view",{staticClass:"block_content"},[a("v-uni-rich-text",{attrs:{nodes:t.shop.shop_intro}})],1)],1),a("v-uni-view",{staticClass:"block"},[a("v-uni-view",{staticClass:"block_title weui-flex"},[a("v-uni-view",{staticClass:"block_title_name weui-flex__item"},[t._v("推荐商家")])],1),a("v-uni-view",{staticClass:"commend_shop"},t._l(t.shop.commendshopList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"commend_shop_item",attrs:{"data-url":"/pages/merchant/shop?id="+e.shop_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpUrl.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"commend_shop_logo"},[a("v-uni-image",{attrs:{src:t.baseUrl+e.shop_picture,mode:""}})],1),a("v-uni-view",{staticClass:"commend_shop_title"},[t._v(t._s(e.shop_title))])],1)})),1)],1),a("v-uni-view",{staticClass:"page_blank"}),a("page-menu",{attrs:{menu:t.menu}}),t.popsharehb?a("v-uni-view",{staticClass:"sharebg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleShareHB.apply(void 0,arguments)}}}):t._e(),t.popsharehb?a("v-uni-view",{staticClass:"shareHB"},[a("v-uni-view",{staticClass:"shareHB_c"},[a("v-uni-image",{directives:[{name:"f",rawName:"v-f",value:t.shareImg,expression:"shareImg"}],staticStyle:{width:"100%",height:"1050rpx",display:"block"},attrs:{src:t.baseUrl+t.shareImg}})],1),t.shareImg?a("v-uni-view",{staticClass:"shareBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.save.apply(void 0,arguments)}}},[t._v("保存图片")]):t._e()],1):t._e(),t.showForm?a("v-uni-view",{staticClass:"pop_bg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleForm.apply(void 0,arguments)}}}):t._e(),t.showForm?a("v-uni-view",{staticClass:"form_block"},[a("v-uni-form",{on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmit.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"form_item weui-flex"},[a("v-uni-view",{staticClass:"weui-flex__item"},[a("v-uni-input",{staticClass:"form_input",attrs:{type:"text",name:"title",value:"",focus:!0,placeholder:"店铺名称"}})],1)],1),a("v-uni-view",{staticClass:"form_item weui-flex"},[a("v-uni-view",{staticClass:"weui-flex__item"},[a("v-uni-input",{staticClass:"form_input",attrs:{type:"text",name:"addr",value:"",focus:!0,placeholder:"店铺地址"}})],1)],1),a("v-uni-view",{staticClass:"form_item weui-flex"},[a("v-uni-view",{staticClass:"weui-flex__item"},[a("v-uni-input",{staticClass:"form_input",attrs:{type:"text",name:"contacter",value:"",focus:!0,placeholder:"联系人"}})],1)],1),a("v-uni-view",{staticClass:"form_item weui-flex"},[a("v-uni-view",{staticClass:"weui-flex__item"},[a("v-uni-input",{staticClass:"form_input",attrs:{type:"number",name:"mobile",value:t.userInfo.users_mobile,focus:!0,placeholder:"手机号"}})],1)],1),a("v-uni-button",{staticClass:"form_btn",attrs:{formType:"submit"}},[t._v("提交 申请查看价格")])],1)],1):t._e()],1)},n=[];i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}))},a07e:function(t,e,i){var a=i("6a87");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("4d721c8c",a,!0,{sourceMap:!1,shadowMode:!1})},b680:function(t,e,i){"use strict";var a=i("23e7"),o=i("a691"),n=i("408a"),s=i("1148"),r=i("d039"),u=1..toFixed,c=Math.floor,d=function(t,e,i){return 0===e?i:e%2===1?d(t,e-1,i*t):d(t*t,e/2,i)},l=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},h=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){u.call({})}));a({target:"Number",proto:!0,forced:h},{toFixed:function(t){var e,i,a,r,u=n(this),h=o(t),f=[0,0,0,0,0,0],p="",g="0",v=function(t,e){var i=-1,a=e;while(++i<6)a+=t*f[i],f[i]=a%1e7,a=c(a/1e7)},m=function(t){var e=6,i=0;while(--e>=0)i+=f[e],f[e]=c(i/t),i=i%t*1e7},_=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==f[t]){var i=String(f[t]);e=""===e?i:e+s.call("0",7-i.length)+i}return e};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(p="-",u=-u),u>1e-21)if(e=l(u*d(2,69,1))-69,i=e<0?u*d(2,-e,1):u/d(2,e,1),i*=4503599627370496,e=52-e,e>0){v(0,i),a=h;while(a>=7)v(1e7,0),a-=7;v(d(10,a,1),0),a=e-1;while(a>=23)m(1<<23),a-=23;m(1<<a),v(1,1),m(2),g=_()}else v(0,i),v(1<<-e,0),g=_()+s.call("0",h);return h>0?(r=g.length,g=p+(r<=h?"0."+s.call("0",h-r)+g:g.slice(0,r-h)+"."+g.slice(r-h))):g=p+g,g}})},d7cb:function(t,e,i){i("a15b"),i("d81d"),i("b680"),i("d3b7"),i("acd8"),i("e25e"),i("ac1f"),i("25f0"),i("5319"),i("1276");var a=i("12c0");function o(t){if("number"!==typeof t||t<0)return t;var e=parseInt(t/3600);t%=3600;var i=parseInt(t/60);t=parseInt(t%60);var a=t;return[e,i,a].map((function(t){return t=t.toString(),t[1]?t:"0"+t})).join(":")}function n(t){t=new Date(t);var e=1900+t.getYear(),i="0"+(t.getMonth()+1),a="0"+t.getDate(),o="0"+t.getHours(),n="0"+t.getMinutes();t.getSeconds();return e+"-"+i.substring(i.length-2,i.length)+"-"+a.substring(a.length-2,a.length)+" "+o.substring(o.length-2,o.length)+":"+n.substring(n.length-2,n.length)}function s(t,e){for(var i=new Object,o=0,n=t.length;o<n;o++){var s=t[o][e];i[s]=a({},t[o])}return i}function r(t){return"undefined"==typeof t||null==t?"":t.replace(/^(\d{4})\d{4}(\d+)/,"$1****$2")}function u(t){var e=new Array;for(var i in t)e.push(t[i]);return e}function c(t){var e=/^[1][3,4,5,7,8,9][0-9]{9}$/;return!!e.test(t)}function d(t,e){return"string"===typeof t&&"string"===typeof e&&(t=parseFloat(t),e=parseFloat(e)),t=t.toFixed(2),e=e.toFixed(2),{longitude:t.toString().split("."),latitude:e.toString().split(".")}}var l={UNITS:{"年":315576e5,"月":26298e5,"天":864e5,"小时":36e5,"分钟":6e4,"秒":1e3},humanize:function(t){var e="";for(var i in this.UNITS)if(t>=this.UNITS[i]){e=Math.floor(t/this.UNITS[i])+i+"前";break}return e||"刚刚"},format:function(t){var e=this.parse(t),i=Date.now()-e.getTime();if(i<this.UNITS["天"])return this.humanize(i);var a=function(t){return t<10?"0"+t:t};return e.getFullYear()+"/"+a(e.getMonth()+1)+"/"+a(e.getDay())+"-"+a(e.getHours())+":"+a(e.getMinutes())},parse:function(t){var e=t.split(/[^0-9]/);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5])}};t.exports={formatTime:o,formatUnixtimestamp:n,formatLocation:d,dateUtils:l,ObjectToArray:u,ArrayExtractToObjectWithKey:s,isPoneAvailable:c,hidePhoneNumber:r}},f33b:function(t,e,i){"use strict";(function(t){var a=i("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("4976")),n=(a(i("d7cb")),{data:function(){return{baseUrl:o.default.baseUrl,shopid:0,shop:[],goodsList:[],bannerList:[],catList:[],menu:{mindex:0,shopid:0,shop:[]},info:{bg_color:"0,170,250",bg_alpha:1,delta:2,icon_color:"white",shpid:0},titleHeight:0,statusBarHeight:0,naviBarHeight:0,mainTop:0,popsharehb:!1,shareImg:"",showForm:!1}},onLoad:function(t){var e=this,i=t.id;i>0&&(e.menu.shopid=i,e.info.shopid=i,e.shopid=i,uni.setStorageSync("shopid",i),e.getShopInfo(),e.getShopCatList(),e.getShopBanner(),e.getShopCommendGoodsList()),e.titleHeight=o.default.titleHeight,e.statusBarHeight=o.default.statusBarHeight,e.naviBarHeight=o.default.naviBarHeight;var a=getCurrentPages();e.info.delta=a.length,e.mainTop=o.default.titleHeight+40},onPullDownRefresh:function(){var t=this;uni.showNavigationBarLoading(),t.getShopInfo(),t.getShopCatList(),t.getShopBanner(),t.getShopCommendGoodsList(),uni.hideNavigationBarLoading(),uni.stopPullDownRefresh()},onShareAppMessage:function(e){var i=this;"button"===e.from&&t.log(e.target);var a=uni.getStorageSync("userInfo"),o=i.shopid;if(a.users_id>0)var n="/pages/merchant/shop?id="+o+"&tjuid="+a.users_id;else n="/pages/merchant/shop?id="+o;return{title:i.shop.shop_title,path:n}},methods:{shenqingView:function(){var e=this,i=uni.getStorageSync("userInfo");t.log("userInfo",i.users_id),i.users_id>0?e.toggleForm():uni.showModal({title:"提示",showCancel:!1,content:"亲，您还没有登录，现在去登录",success:function(i){uni.navigateTo({url:"/pages/userlogin/userlogin?tfrom=products&id="+e.shopid,success:function(e){t.log(e)}})}})},formSubmit:function(e){var i=this,a=e.detail.value,n=a.title,s=a.addr,r=a.contacter,u=a.mobile,c=uni.getStorageSync("userInfo");return t.log("aaa"),""==n?(uni.showToast({title:"请输入店铺名称",duration:1500,icon:"none"}),!1):""==s?(uni.showToast({title:"请输入店铺地址",duration:1500,icon:"none"}),!1):""==r?(uni.showToast({title:"请输入联系人",duration:1500,icon:"none"}),!1):11!=u.length?(uni.showToast({title:"请输入联系人手机",duration:1500,icon:"none"}),!1):(uni.showLoading({title:"提交中"}),void uni.request({url:o.default.apiUrl+"shop/shenqingViewShopPrice",method:"GET",data:{shopid:i.shopid,userid:c.users_id,title:n,addr:s,contacter:r,mobile:u},success:function(e){uni.hideLoading();var a=e.data;if(t.log(a),0!=a.code)return uni.showToast({title:a.msg,duration:1500,icon:"none"}),!1;uni.showToast({title:"提交成功，等待审核",duration:1500,icon:"success"}),setTimeout((function(){i.toggleForm()}),1500)},fail:function(){},complete:function(){}}))},toggleForm:function(){var t=this;t.showForm=!t.showForm},toggleShareHB:function(){var t=this;t.popsharehb=!t.popsharehb,t.popsharehb&&t.getShareHB()},getShareHB:function(){var e=this,i=uni.getStorageSync("userInfo"),a=o.default.baseUrl+"sharepic/getShopShareImg";uni.showToast({title:"加载数据中",icon:"loading",duration:1e3}),uni.request({url:a,data:{shopid:e.shopid,uid:i.users_id},method:"GET",success:function(i){t.log(i),e.shareImg=i.data.result,e.popsharehb=!0}})},save:function(){var e=this;uni.showToast({title:"处理中",icon:"loading",duration:1e3}),uni.downloadFile({url:e.baseUrl+e.shareImg,success:function(i){var a=i.tempFilePath;uni.getSetting({success:function(i){i.authSetting["scope.writePhotosAlbum"]?uni.saveImageToPhotosAlbum({filePath:a,success:function(t){uni.showModal({title:"保存成功",content:"您可以用相册中的图片分享到朋友圈啦",showCancel:!1,success:function(t){e.toggleShareHB()}})},fail:function(e){t.log(e)},complete:function(e){t.log(e)}}):uni.authorize({scope:"scope.writePhotosAlbum",success:function(){t.log("授权成功"),uni.saveImageToPhotosAlbum({filePath:a,success:function(t){uni.showModal({title:"保存成功",content:"您可以用相册中的图片分享到朋友圈啦",showCancel:!1,success:function(t){e.toggleShareHB()}})}})},fail:function(){t.log("授权失败")}})}})}})},getShopCatList:function(){var t=this,e=t.shopid;if(""==e||0==e)return!1;uni.request({url:o.default.apiUrl+"shop/getShopCatList",method:"GET",data:{shopid:e},success:function(e){t.catList=e.data.cat_list},fail:function(){},complete:function(){}})},getShopCommendGoodsList:function(){var t=this,e=t.shopid;if(""==e||0==e)return!1;uni.request({url:o.default.apiUrl+"shop/getShopCommendGoodsList",method:"GET",data:{shopid:e},success:function(e){t.goodsList=e.data.goods_list},fail:function(){},complete:function(){}})},jumpUrl:function(t){var e=t.currentTarget.dataset.url;uni.navigateTo({url:e})},getShopInfo:function(){var e=this,i=e.shopid,a=uni.getStorageSync("userInfo");if(""==i||0==i)return!1;uni.request({url:o.default.apiUrl+"shop/getShopInfo",method:"GET",data:{shopid:i,userid:a.users_id},success:function(i){var a=i.data.shop;e.shop=i.data.shop,t.log("shop",a),e.menu.shop=i.data.shop,uni.setNavigationBarTitle({title:a.shop_title}),e.info.title=a.shop_title,t.log("shop",i.data),e.$wechat&&e.$wechat.share({title:a.shop_title+" - 凡迪优品",desc:a.shop_zhuying,img:e.baseUrl+a.shop_picture})},fail:function(){},complete:function(){}})},getShopBanner:function(){var e=this,i=e.shopid;if(""==i||0==i)return!1;uni.request({url:o.default.apiUrl+"shop/getShopBanner",method:"GET",data:{shopid:i},success:function(i){e.bannerList=i.data.banner_list,t.log("banner_list",i.data)},fail:function(){},complete:function(){}})}}});e.default=n}).call(this,i("5a52")["default"])}}]);
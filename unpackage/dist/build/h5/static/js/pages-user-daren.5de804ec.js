(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-daren"],{1148:function(e,t,n){"use strict";var r=n("a691"),i=n("1d80");e.exports="".repeat||function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},"12c0":function(e,t,n){n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("5757");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}e.exports=o},"235f":function(e,t,n){var r=n("79bf");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("7f393083",r,!0,{sourceMap:!1,shadowMode:!1})},"408a":function(e,t,n){var r=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},"52a6":function(e,t,n){"use strict";n.r(t);var r=n("98cb"),i=n("d68f");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("827c");var a,u=n("f0c5"),c=Object(u["a"])(i["default"],r["b"],r["c"],!1,null,"b52bfbce",null,!1,r["a"],a);t["default"]=c.exports},"79bf":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".daren_bg[data-v-b52bfbce]{position:fixed;z-index:1;width:100%;top:0;bottom:0;overflow:hidden}.daren_bg uni-image[data-v-b52bfbce]{width:100%;height:100%}.daren_btn[data-v-b52bfbce]{width:90%;margin:5%;position:fixed;bottom:0;background:#eab75e;color:#fff;text-align:center;height:%?100?%;line-height:%?100?%;border-radius:%?100?%;z-index:999;font-size:%?32?%;font-weight:700}.daren_btn uni-text[data-v-b52bfbce]{text-decoration:line-through}",""]),e.exports=t},"827c":function(e,t,n){"use strict";var r=n("235f"),i=n.n(r);i.a},"880a":function(e,t,n){"use strict";(function(e){var r=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("4976")),o=(r(n("d7cb")),{data:function(){return{baseUrl:i.default.baseUrl,userid:"",userInfo:[],coupon_nums:0,ads:[],popType:"middle",showPopupMiddle:!1,info:{icon_color:"white",bg_color:"255,255,255",bg_alpha:0,delta:2},titleHeight:0,statusBarHeight:0,naviBarHeight:0,orderno:""}},onLoad:function(){var t=this,n=uni.getStorageSync("userid"),r=uni.getStorageSync("userInfo");t.userid=n,t.userInfo=r,t.checkLogin(),t.titleHeight=i.default.titleHeight,t.statusBarHeight=i.default.statusBarHeight,t.naviBarHeight=i.default.naviBarHeight,e.log("userid",n),e.log("userInfo",r)},onPullDownRefresh:function(){var t=this;uni.showNavigationBarLoading(),e.log("下拉刷新中..."),t.getUserInfo(),uni.hideNavigationBarLoading(),uni.stopPullDownRefresh()},methods:{authpay:function(){var t=this;uni.login({provider:"weixin",success:function(n){e.log(n);var r=n.code;uni.getUserInfo({provider:"weixin",success:function(n){var o=n.rawData,a=n.signature,u=n.iv;n.encryptedData;uni.request({url:i.default.apiUrl+"login/updateUserInfo",method:"GET",data:{userid:t.userid,code:r,rawData:o,signature:a,iv:u},success:function(n){if(e.log(n),0==n.data.code){var r=n.data.userInfo;uni.setStorageSync("userInfo",r),t.userInfo=r,t.checkOrder()}else uni.showToast({title:n.msg,duration:1e3,icon:"none"})},fail:function(){},complete:function(){}})}})}})},checkOrder:function(){var e=this,t=e.userid;uni.request({url:i.default.apiUrl+"orders/checkOrderDaren",method:"GET",data:{userid:t},success:function(t){var n=t.data.order_no;e.orderno=n,e.payfee()},fail:function(){},complete:function(){}})},payfee:function(){var t=this,n=t.userid,r=t.orderno;e.log(n),e.log("orderno",r),uni.request({url:i.default.apiUrl+"pay/payfeedaren",method:"GET",data:{userid:n,order_no:r},success:function(t){e.log(t);var n=t.data.timeStamp,r=t.data.nonceStr,i=t.data.package,o=t.data.paySign;uni.requestPayment({provider:"wxpay",timeStamp:n,nonceStr:r,package:i,signType:"MD5",paySign:o,success:function(e){uni.showModal({title:"提示",content:"支付成功",showCancel:!1,cancelText:"",confirmText:"确定",success:function(e){setTimeout((function(){uni.reLaunch({url:"/pages/user/user"})}),1e3)},fail:function(){},complete:function(){}})},fail:function(t){e.log("fail:"+JSON.stringify(t))}})},fail:function(){},complete:function(){}})},getUserInfo:function(){var e=this,t=e.userid;t>0?uni.request({url:i.default.apiUrl+"user/getUserInfo",method:"GET",data:{userid:t},success:function(t){if(0==t.data.code){var n=t.data.userInfo;uni.setStorageSync("userInfo",n),e.userInfo=n}},fail:function(){},complete:function(){}}):uni.showModal({title:"提示",content:"你还没登录，现在去登录吗？",showCancel:!0,cancelText:"取消",confirmText:"确定",success:function(e){e.confirm&&uni.navigateTo({url:"/pages/userlogin/userlogin",success:function(e){},fail:function(){},complete:function(){}})},fail:function(){},complete:function(){}})},checkLogin:function(){var t=uni.getStorageSync("userid");t?e.log("已经登录"):(e.log("还没有登录"),uni.navigateTo({url:"/pages/userlogin/userlogin",success:function(e){},fail:function(){},complete:function(){}}))},setting:function(){uni.navigateTo({url:"/pages/user/setting/setting",success:function(e){},fail:function(){},complete:function(){}})}}});t.default=o}).call(this,n("5a52")["default"])},"98cb":function(e,t,n){"use strict";var r,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"page"},[n("v-uni-view",{staticClass:"daren_bg"},[n("v-uni-image",{attrs:{src:e.baseUrl+"data/asset/share/daren_bg.png",mode:""}})],1),null==e.userInfo.users_openid||""==e.userInfo.users_openid?n("v-uni-button",{staticClass:"daren_btn",attrs:{"open-type":"getUserInfo"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.authpay.apply(void 0,arguments)}}},[e._v("¥1 ("),n("v-uni-text",[e._v("¥198")]),e._v(") 立即成人分享达人")],1):null!=e.userInfo.users_openid&&""!=e.userInfo.users_openid?n("v-uni-button",{staticClass:"daren_btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.checkOrder.apply(void 0,arguments)}}},[e._v("¥1 ("),n("v-uni-text",[e._v("¥198")]),e._v(") 立即成人分享达人")],1):e._e()],1)},o=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}))},b680:function(e,t,n){"use strict";var r=n("23e7"),i=n("a691"),o=n("408a"),a=n("1148"),u=n("d039"),c=1..toFixed,s=Math.floor,f=function(e,t,n){return 0===t?n:t%2===1?f(e,t-1,n*e):f(e*e,t/2,n)},l=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},d=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!u((function(){c.call({})}));r({target:"Number",proto:!0,forced:d},{toFixed:function(e){var t,n,r,u,c=o(this),d=i(e),g=[0,0,0,0,0,0],p="",h="0",v=function(e,t){var n=-1,r=t;while(++n<6)r+=e*g[n],g[n]=r%1e7,r=s(r/1e7)},b=function(e){var t=6,n=0;while(--t>=0)n+=g[t],g[t]=s(n/e),n=n%e*1e7},m=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==g[e]){var n=String(g[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(t=l(c*f(2,69,1))-69,n=t<0?c*f(2,-t,1):c/f(2,t,1),n*=4503599627370496,t=52-t,t>0){v(0,n),r=d;while(r>=7)v(1e7,0),r-=7;v(f(10,r,1),0),r=t-1;while(r>=23)b(1<<23),r-=23;b(1<<r),v(1,1),b(2),h=m()}else v(0,n),v(1<<-t,0),h=m()+a.call("0",d);return d>0?(u=h.length,h=p+(u<=d?"0."+a.call("0",d-u)+h:h.slice(0,u-d)+"."+h.slice(u-d))):h=p+h,h}})},d68f:function(e,t,n){"use strict";n.r(t);var r=n("880a"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},d7cb:function(e,t,n){n("a15b"),n("d81d"),n("b680"),n("d3b7"),n("acd8"),n("e25e"),n("ac1f"),n("25f0"),n("5319"),n("1276");var r=n("12c0");function i(e){if("number"!==typeof e||e<0)return e;var t=parseInt(e/3600);e%=3600;var n=parseInt(e/60);e=parseInt(e%60);var r=e;return[t,n,r].map((function(e){return e=e.toString(),e[1]?e:"0"+e})).join(":")}function o(e){e=new Date(e);var t=1900+e.getYear(),n="0"+(e.getMonth()+1),r="0"+e.getDate(),i="0"+e.getHours(),o="0"+e.getMinutes();e.getSeconds();return t+"-"+n.substring(n.length-2,n.length)+"-"+r.substring(r.length-2,r.length)+" "+i.substring(i.length-2,i.length)+":"+o.substring(o.length-2,o.length)}function a(e,t){for(var n=new Object,i=0,o=e.length;i<o;i++){var a=e[i][t];n[a]=r({},e[i])}return n}function u(e){return"undefined"==typeof e||null==e?"":e.replace(/^(\d{4})\d{4}(\d+)/,"$1****$2")}function c(e){var t=new Array;for(var n in e)t.push(e[n]);return t}function s(e){var t=/^[1][3,4,5,7,8,9][0-9]{9}$/;return!!t.test(e)}function f(e,t){return"string"===typeof e&&"string"===typeof t&&(e=parseFloat(e),t=parseFloat(t)),e=e.toFixed(2),t=t.toFixed(2),{longitude:e.toString().split("."),latitude:t.toString().split(".")}}var l={UNITS:{"年":315576e5,"月":26298e5,"天":864e5,"小时":36e5,"分钟":6e4,"秒":1e3},humanize:function(e){var t="";for(var n in this.UNITS)if(e>=this.UNITS[n]){t=Math.floor(e/this.UNITS[n])+n+"前";break}return t||"刚刚"},format:function(e){var t=this.parse(e),n=Date.now()-t.getTime();if(n<this.UNITS["天"])return this.humanize(n);var r=function(e){return e<10?"0"+e:e};return t.getFullYear()+"/"+r(t.getMonth()+1)+"/"+r(t.getDay())+"-"+r(t.getHours())+":"+r(t.getMinutes())},parse:function(e){var t=e.split(/[^0-9]/);return new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5])}};e.exports={formatTime:i,formatUnixtimestamp:o,formatLocation:f,dateUtils:l,ObjectToArray:c,ArrayExtractToObjectWithKey:a,isPoneAvailable:s,hidePhoneNumber:u}}}]);